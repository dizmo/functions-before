{"version":3,"sources":["test_decorator.js"],"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","exports","value","chai_1","require","lib_1","describe","it","expect","before","decorator","to","not","be","an","a","Class","eq","fn","Function","prototype","method","undefined","Boolean","Error"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* tslint:disable:ban-types max-classes-per-file */\nconst chai_1 = require(\"chai\");\nconst lib_1 = require(\"../lib\");\nrequire(\"mocha\");\ndescribe(\"before.decorator\", () => {\n    it(\"should exist\", () => {\n        chai_1.expect(lib_1.before.decorator).to.not.be.an(\"undefined\");\n    });\n    it(\"should be a function\", () => {\n        chai_1.expect(lib_1.before.decorator).to.be.a(\"function\");\n    });\n});\ndescribe(\"before.decorator\", () => {\n    it(\"should be invoked beforehand\", () => {\n        class Class {\n            method(...args) {\n                chai_1.expect(args.length).to.eq(0);\n            }\n        }\n        __decorate([\n            lib_1.before.decorator((fn) => {\n                chai_1.expect(fn).to.not.be.an(\"undefined\");\n            }),\n            __metadata(\"design:type\", Function),\n            __metadata(\"design:paramtypes\", [Object]),\n            __metadata(\"design:returntype\", void 0)\n        ], Class.prototype, \"method\", null);\n        chai_1.expect(new Class().method()).to.eq(undefined);\n    });\n    it(\"should receive arguments\", () => {\n        class Class {\n            method(value) {\n                chai_1.expect(value).to.eq(true);\n            }\n        }\n        __decorate([\n            lib_1.before.decorator((fn, value) => {\n                chai_1.expect(fn).to.not.be.an(\"undefined\");\n                chai_1.expect(value).to.eq(true);\n            }),\n            __metadata(\"design:type\", Function),\n            __metadata(\"design:paramtypes\", [Boolean]),\n            __metadata(\"design:returntype\", void 0)\n        ], Class.prototype, \"method\", null);\n        chai_1.expect(new Class().method(true)).to.eq(undefined);\n    });\n    it(\"should block invocations\", () => {\n        class Class {\n            method(...args) {\n                throw new Error(\"should not be thrown\");\n            }\n        }\n        __decorate([\n            lib_1.before.decorator(() => {\n                return false; // block!\n            }),\n            __metadata(\"design:type\", Function),\n            __metadata(\"design:paramtypes\", [Object]),\n            __metadata(\"design:returntype\", void 0)\n        ], Class.prototype, \"method\", null);\n        chai_1.expect(new Class().method(true)).to.eq(undefined);\n    });\n});\n"],"file":"test_decorator.js"}