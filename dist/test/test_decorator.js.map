{"version":3,"sources":["test_decorator.js"],"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","exports","value","chai_1","require","lib_1","describe","it","expect","before","decorator","to","not","be","an","a","Class","eq","fn","Function","prototype","method","undefined","Boolean","Error"],"mappings":"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","file":"test_decorator.js","sourcesContent":["\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* tslint:disable:ban-types max-classes-per-file */\nconst chai_1 = require(\"chai\");\nconst lib_1 = require(\"../lib\");\nrequire(\"mocha\");\ndescribe(\"before.decorator\", () => {\n    it(\"should exist\", () => {\n        chai_1.expect(lib_1.before.decorator).to.not.be.an(\"undefined\");\n    });\n    it(\"should be a function\", () => {\n        chai_1.expect(lib_1.before.decorator).to.be.a(\"function\");\n    });\n});\ndescribe(\"before.decorator\", () => {\n    it(\"should be invoked beforehand\", () => {\n        class Class {\n            method(...args) {\n                chai_1.expect(args.length).to.eq(0);\n            }\n        }\n        __decorate([\n            lib_1.before.decorator((fn) => {\n                chai_1.expect(fn).to.not.be.an(\"undefined\");\n            }),\n            __metadata(\"design:type\", Function),\n            __metadata(\"design:paramtypes\", [Object]),\n            __metadata(\"design:returntype\", void 0)\n        ], Class.prototype, \"method\", null);\n        chai_1.expect(new Class().method()).to.eq(undefined);\n    });\n    it(\"should receive arguments\", () => {\n        class Class {\n            method(value) {\n                chai_1.expect(value).to.eq(true);\n            }\n        }\n        __decorate([\n            lib_1.before.decorator((fn, value) => {\n                chai_1.expect(fn).to.not.be.an(\"undefined\");\n                chai_1.expect(value).to.eq(true);\n            }),\n            __metadata(\"design:type\", Function),\n            __metadata(\"design:paramtypes\", [Boolean]),\n            __metadata(\"design:returntype\", void 0)\n        ], Class.prototype, \"method\", null);\n        chai_1.expect(new Class().method(true)).to.eq(undefined);\n    });\n    it(\"should block invocations\", () => {\n        class Class {\n            method(...args) {\n                throw new Error(\"should not be thrown\");\n            }\n        }\n        __decorate([\n            lib_1.before.decorator(() => {\n                return false; // block!\n            }),\n            __metadata(\"design:type\", Function),\n            __metadata(\"design:paramtypes\", [Object]),\n            __metadata(\"design:returntype\", void 0)\n        ], Class.prototype, \"method\", null);\n        chai_1.expect(new Class().method(true)).to.eq(undefined);\n    });\n});\n"]}