{"version":3,"sources":["decorator.js"],"names":["Object","defineProperty","exports","value","before_1","require","decorator","callback","_decorator","tgt","key","tpd","before","default"],"mappings":"AAAA;;AACAA,OAAOC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C,EAAEC,OAAO,IAAT,EAA7C;AACA;AACA,IAAMC,WAAWC,QAAQ,UAAR,CAAjB;AACA;;;;;;;AAOA,SAASC,SAAT,CAAmBC,QAAnB,EAA6B;AACzB,WAAOC,WAAWD,QAAX,CAAP;AACH;AACDL,QAAQI,SAAR,GAAoBA,SAApB;AACA,SAASE,UAAT,CAAoBD,QAApB,EAA8B;AAC1B,WAAO,UAACE,GAAD,EAAMC,GAAN,EAAWC,GAAX,EAAmB;AACtB,YAAIA,GAAJ,EAAS;AACLA,gBAAIR,KAAJ,GAAYC,SAASQ,MAAT,CAAgBD,IAAIR,KAApB,EAA2BI,QAA3B,CAAZ;AACA,mBAAOI,GAAP;AACH,SAHD,MAIK;AACDF,gBAAIC,GAAJ,IAAWN,SAASQ,MAAT,CAAgBH,IAAIC,GAAJ,CAAhB,EAA0BH,QAA1B,CAAX;AACH;AACJ,KARD;AASH;AACDL,QAAQW,OAAR,GAAkBP,SAAlB","file":"decorator.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* tslint:disable:ban-types */\nconst before_1 = require(\"./before\");\n/**\n * Returns a method decorator taking a callback, which will be invoked\n * before the execution of the decorated function, *unless* the callback\n * returns `false`.\n *\n * @param callback a handler to be invoked beforehand\n */\nfunction decorator(callback) {\n    return _decorator(callback);\n}\nexports.decorator = decorator;\nfunction _decorator(callback) {\n    return (tgt, key, tpd) => {\n        if (tpd) {\n            tpd.value = before_1.before(tpd.value, callback);\n            return tpd;\n        }\n        else {\n            tgt[key] = before_1.before(tgt[key], callback);\n        }\n    };\n}\nexports.default = decorator;\n"]}