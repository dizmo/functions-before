{"version":3,"sources":["decorator.js"],"names":["Object","defineProperty","exports","value","before_1","require","decorator","callback","_decorator","tgt","key","tpd","before"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACA;;AACA,IAAMC,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;AACA;;;;;;;;;AAOA,SAASC,SAAT,CAAmBC,QAAnB,EAA6B;AACzB,SAAOC,UAAU,CAACD,QAAD,CAAjB;AACH;;AACDL,OAAO,CAACI,SAAR,GAAoBA,SAApB;;AACA,SAASE,UAAT,CAAoBD,QAApB,EAA8B;AAC1B,SAAO,UAACE,GAAD,EAAMC,GAAN,EAAWC,GAAX,EAAmB;AACtB,QAAIA,GAAJ,EAAS;AACLA,MAAAA,GAAG,CAACR,KAAJ,GAAYC,QAAQ,CAACQ,MAAT,CAAgBD,GAAG,CAACR,KAApB,EAA2BI,QAA3B,CAAZ;AACA,aAAOI,GAAP;AACH,KAHD,MAIK;AACDF,MAAAA,GAAG,CAACC,GAAD,CAAH,GAAWN,QAAQ,CAACQ,MAAT,CAAgBH,GAAG,CAACC,GAAD,CAAnB,EAA0BH,QAA1B,CAAX;AACH;AACJ,GARD;AASH;;AACDL,OAAO,WAAP,GAAkBI,SAAlB","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* tslint:disable:ban-types */\nconst before_1 = require(\"./before\");\n/**\n * Returns a method decorator taking a callback, which will be invoked\n * before the execution of the decorated function, *unless* the callback\n * returns `false`.\n *\n * @param callback a handler to be invoked beforehand\n */\nfunction decorator(callback) {\n    return _decorator(callback);\n}\nexports.decorator = decorator;\nfunction _decorator(callback) {\n    return (tgt, key, tpd) => {\n        if (tpd) {\n            tpd.value = before_1.before(tpd.value, callback);\n            return tpd;\n        }\n        else {\n            tgt[key] = before_1.before(tgt[key], callback);\n        }\n    };\n}\nexports.default = decorator;\n"],"file":"decorator.js"}